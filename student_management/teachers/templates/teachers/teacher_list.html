{% extends "accounts/base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Danh sách giáo viên</h2>

    <!-- Form tìm kiếm -->
    <form method="get" class="mb-3 d-flex">
        <input type="text" name="q" value="{{ q }}" class="form-control me-2" placeholder="Nhập tên hoặc môn học...">
        <button type="submit" class="btn btn-primary">
            <i class="bi bi-search"></i>
        </button>
    </form>

    <a href="{% url 'teacher_add' %}" class="btn btn-success mb-3"> Thêm giáo viên</a>
    <a href="{% url 'phancong_list' %}" class="btn btn-info mb-3"> Phân công</a>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Họ tên</th>
                <th>Email</th>
                <th>Số điện thoại</th>
                <th>Môn dạy</th>
                <th>Tài khoản</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            {% for teacher in teachers %}
            <tr>
                <td>{{ teacher.ho_ten }}</td>
                <td>{{ teacher.email }}</td>
                <td>{{ teacher.so_dien_thoai }}</td>
                <td>{{ teacher.mon_day.ten_mon|default:"-" }}</td>
                <td>{{ teacher.user.username }}</td>
                <td>
                    <a href="{% url 'teacher_edit' teacher.id %}" class="btn btn-warning btn-sm"> Sửa</a>
                    <a href="{% url 'teacher_delete' teacher.id %}" class="btn btn-danger btn-sm"> Xóa</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center">Chưa có giáo viên nào</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
